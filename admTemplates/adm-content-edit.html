<form method="POST" action="/{{dir}}/{{type}}{{category}}/{{file}}?{{user}}&{{pass}}">
    <div class="mainTextField" id="my-textarea-wr" >
        <!--<div class="firstContainer">-->
            <!--<div class="secContainer">-->
                <textarea id="my-textarea" name="content">{{content}}</textarea>
            <!--</div>-->
        <!--</div>-->
    </div>
    <div class="functField">
        <div>
            <div>
                <a href="/{{dir}}/{{type}}?{{user}}&{{pass}}">Back</a>
            </div>
            <div>{{msg}}</div>
            <div>
                <input type="submit" name="save" value="save">
            </div>
            <div>
                <span style="word-wrap: break-word;">
                    {{category}}
                </span>
                <span> / </span>
                <span>
                    <input type="text" name="fileName" value="{{file}}">
                </span>
            </div>
        </div>
    </div>
</form>
<script type="text/javascript">
    
function enableTab(id) {
    var el = document.getElementById(id);
    el.onkeydown = function(e) {
        if (e.keyCode === 9) { // tab was pressed

            // get caret position/selection
            var val = this.value,
                start = this.selectionStart,
                end = this.selectionEnd;

            // set textarea value to: text before caret + tab + text after caret
            this.value = val.substring(0, start) + '\t' + val.substring(end);

            // put caret at right position again
            this.selectionStart = this.selectionEnd = start + 1;

            // prevent the focus lose
            return false;

        }
    };
}

function onBlur (id, src) {
    var el = document.getElementById(id);
    var srcEl = document.getElementById(src);
    // el.style.opacity = '0.6';
    el.focus();
    el.onblur = function() {
        srcEl.style.opacity = '0.6';
    }
    el.onfocus = function() {
        srcEl.style.opacity = '1';
    }
}

enableTab('my-textarea');

onBlur('my-textarea', 'my-textarea-wr');

</script>